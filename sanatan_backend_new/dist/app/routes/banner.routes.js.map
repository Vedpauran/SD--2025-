{"version":3,"file":"banner.routes.js","names":["express","require","router","Router","Banner","asyncHandler","get","req","res","Banners","aggregate","$match","Language","langid","$or","publish","$lt","currentDate","status","json","error","message","module","exports"],"sources":["../../../src/app/routes/banner.routes.js"],"sourcesContent":["const express = require(\"express\");\nconst router = express.Router();\nconst Banner = require(\"../../admin/models/hero\");\nconst asyncHandler = require(\"../utils/asyncHandler\");\n\nrouter.get(\n\t\"/\",\n\tasyncHandler(async (req, res) => {\n\t\ttry {\n\t\t\tconst Banners = await Banner.aggregate([\n\t\t\t\t{\n\t\t\t\t\t$match: {\n\t\t\t\t\t\tLanguage: langid,\n\t\t\t\t\t\t$or: [\n\t\t\t\t\t\t\t{ publish: { $lt: currentDate } },\n\t\t\t\t\t\t\t{ publish: null },\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]);\n\t\t\tres.status(200).json(Banners);\n\t\t} catch (error) {\n\t\t\tres.status(500).json({ message: error.message });\n\t\t}\n\t})\n);\n\nmodule.exports = router;\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,MAAM,GAAGH,OAAO,CAAC,yBAAyB,CAAC;AACjD,MAAMI,YAAY,GAAGJ,OAAO,CAAC,uBAAuB,CAAC;AAErDC,MAAM,CAACI,GAAG,CACT,GAAG,EACHD,YAAY,CAAC,OAAOE,GAAG,EAAEC,GAAG,KAAK;EAChC,IAAI;IACH,MAAMC,OAAO,GAAG,MAAML,MAAM,CAACM,SAAS,CAAC,CACtC;MACCC,MAAM,EAAE;QACPC,QAAQ,EAAEC,MAAM;QAChBC,GAAG,EAAE,CACJ;UAAEC,OAAO,EAAE;YAAEC,GAAG,EAAEC;UAAY;QAAE,CAAC,EACjC;UAAEF,OAAO,EAAE;QAAK,CAAC;MAEnB;IACD,CAAC,CACD,CAAC;IACFP,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACV,OAAO,CAAC;EAC9B,CAAC,CAAC,OAAOW,KAAK,EAAE;IACfZ,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEE,OAAO,EAAED,KAAK,CAACC;IAAQ,CAAC,CAAC;EACjD;AACD,CAAC,CACF,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGrB,MAAM","ignoreList":[]}