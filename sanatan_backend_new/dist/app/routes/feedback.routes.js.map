{"version":3,"file":"feedback.routes.js","names":["express","require","router","Router","Feedback","asyncHandler","createFeedback","req","res","fullName","email","subject","file","feedback","body","AddFeedback","user","_id","newFeedback","save","status","json","err","message","getFeedbacks","Feedbacks","find","route","post","get","module","exports"],"sources":["../../../src/app/routes/feedback.routes.js"],"sourcesContent":["const express = require(\"express\");\nconst router = express.Router();\nconst Feedback = require(\"../models/users/feedback\");\nconst asyncHandler = require(\"../utils/asyncHandler\");\n\nconst createFeedback = asyncHandler(async (req, res) => {\n\tconst { fullName, email, subject, file, feedback } = req.body;\n\tconst AddFeedback = new Feedback({\n\t\tuser: req.user._id,\n\t\tfullName: fullName,\n\t\temail: email,\n\t\tsubject: subject,\n\t\tfile: file,\n\t\tfeedback: feedback,\n\t});\n\ttry {\n\t\tconst newFeedback = await AddFeedback.save();\n\t\tres.status(200).json(newFeedback);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n});\nconst getFeedbacks = asyncHandler(async (req, res) => {\n\ttry {\n\t\tconst Feedbacks = await Feedback.find({\n\t\t\tuser: req.user._id,\n\t\t});\n\t\tres.status(200).json(Feedbacks);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n});\n\nrouter.route(\"/add\").post(createFeedback);\nrouter.route(\"/\").get(getFeedbacks);\n\nmodule.exports = router;\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,QAAQ,GAAGH,OAAO,CAAC,0BAA0B,CAAC;AACpD,MAAMI,YAAY,GAAGJ,OAAO,CAAC,uBAAuB,CAAC;AAErD,MAAMK,cAAc,GAAGD,YAAY,CAAC,OAAOE,GAAG,EAAEC,GAAG,KAAK;EACvD,MAAM;IAAEC,QAAQ;IAAEC,KAAK;IAAEC,OAAO;IAAEC,IAAI;IAAEC;EAAS,CAAC,GAAGN,GAAG,CAACO,IAAI;EAC7D,MAAMC,WAAW,GAAG,IAAIX,QAAQ,CAAC;IAChCY,IAAI,EAAET,GAAG,CAACS,IAAI,CAACC,GAAG;IAClBR,QAAQ,EAAEA,QAAQ;IAClBC,KAAK,EAAEA,KAAK;IACZC,OAAO,EAAEA,OAAO;IAChBC,IAAI,EAAEA,IAAI;IACVC,QAAQ,EAAEA;EACX,CAAC,CAAC;EACF,IAAI;IACH,MAAMK,WAAW,GAAG,MAAMH,WAAW,CAACI,IAAI,CAAC,CAAC;IAC5CX,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,WAAW,CAAC;EAClC,CAAC,CAAC,OAAOI,GAAG,EAAE;IACbd,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEE,OAAO,EAAED,GAAG,CAACC;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC,CAAC;AACF,MAAMC,YAAY,GAAGnB,YAAY,CAAC,OAAOE,GAAG,EAAEC,GAAG,KAAK;EACrD,IAAI;IACH,MAAMiB,SAAS,GAAG,MAAMrB,QAAQ,CAACsB,IAAI,CAAC;MACrCV,IAAI,EAAET,GAAG,CAACS,IAAI,CAACC;IAChB,CAAC,CAAC;IACFT,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACI,SAAS,CAAC;EAChC,CAAC,CAAC,OAAOH,GAAG,EAAE;IACbd,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEE,OAAO,EAAED,GAAG,CAACC;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC,CAAC;AAEFrB,MAAM,CAACyB,KAAK,CAAC,MAAM,CAAC,CAACC,IAAI,CAACtB,cAAc,CAAC;AACzCJ,MAAM,CAACyB,KAAK,CAAC,GAAG,CAAC,CAACE,GAAG,CAACL,YAAY,CAAC;AAEnCM,MAAM,CAACC,OAAO,GAAG7B,MAAM","ignoreList":[]}