{"version":3,"file":"customer-service.routes.js","names":["express","require","router","Router","customerService","asyncHandler","createcustomerService","req","res","fullName","email","subject","file","message","body","AddcustomerService","user","_id","newcustomerService","save","status","json","err","getcustomerServices","customerServices","find","route","post","get","module","exports"],"sources":["../../../src/app/routes/customer-service.routes.js"],"sourcesContent":["const express = require(\"express\");\nconst router = express.Router();\nconst customerService = require(\"../models/users/customerSupport\");\nconst asyncHandler = require(\"../utils/asyncHandler\");\n\nconst createcustomerService = asyncHandler(async (req, res) => {\n\tconst { fullName, email, subject, file, message } = req.body;\n\tconst AddcustomerService = new customerService({\n\t\tuser: req.user._id,\n\t\tfullName: fullName,\n\t\temail: email,\n\t\tsubject: subject,\n\t\tfile: file,\n\t\tmessage: message,\n\t});\n\ttry {\n\t\tconst newcustomerService = await AddcustomerService.save();\n\t\tres.status(200).json(newcustomerService);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n});\nconst getcustomerServices = asyncHandler(async (req, res) => {\n\ttry {\n\t\tconst customerServices = await customerService.find({\n\t\t\tuser: req.user._id,\n\t\t});\n\t\tres.status(200).json(customerServices);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n});\n\nrouter.route(\"/add\").post(createcustomerService);\nrouter.route(\"/\").get(getcustomerServices);\n\nmodule.exports = router;\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,eAAe,GAAGH,OAAO,CAAC,iCAAiC,CAAC;AAClE,MAAMI,YAAY,GAAGJ,OAAO,CAAC,uBAAuB,CAAC;AAErD,MAAMK,qBAAqB,GAAGD,YAAY,CAAC,OAAOE,GAAG,EAAEC,GAAG,KAAK;EAC9D,MAAM;IAAEC,QAAQ;IAAEC,KAAK;IAAEC,OAAO;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGN,GAAG,CAACO,IAAI;EAC5D,MAAMC,kBAAkB,GAAG,IAAIX,eAAe,CAAC;IAC9CY,IAAI,EAAET,GAAG,CAACS,IAAI,CAACC,GAAG;IAClBR,QAAQ,EAAEA,QAAQ;IAClBC,KAAK,EAAEA,KAAK;IACZC,OAAO,EAAEA,OAAO;IAChBC,IAAI,EAAEA,IAAI;IACVC,OAAO,EAAEA;EACV,CAAC,CAAC;EACF,IAAI;IACH,MAAMK,kBAAkB,GAAG,MAAMH,kBAAkB,CAACI,IAAI,CAAC,CAAC;IAC1DX,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,kBAAkB,CAAC;EACzC,CAAC,CAAC,OAAOI,GAAG,EAAE;IACbd,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAER,OAAO,EAAES,GAAG,CAACT;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC,CAAC;AACF,MAAMU,mBAAmB,GAAGlB,YAAY,CAAC,OAAOE,GAAG,EAAEC,GAAG,KAAK;EAC5D,IAAI;IACH,MAAMgB,gBAAgB,GAAG,MAAMpB,eAAe,CAACqB,IAAI,CAAC;MACnDT,IAAI,EAAET,GAAG,CAACS,IAAI,CAACC;IAChB,CAAC,CAAC;IACFT,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACG,gBAAgB,CAAC;EACvC,CAAC,CAAC,OAAOF,GAAG,EAAE;IACbd,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAER,OAAO,EAAES,GAAG,CAACT;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC,CAAC;AAEFX,MAAM,CAACwB,KAAK,CAAC,MAAM,CAAC,CAACC,IAAI,CAACrB,qBAAqB,CAAC;AAChDJ,MAAM,CAACwB,KAAK,CAAC,GAAG,CAAC,CAACE,GAAG,CAACL,mBAAmB,CAAC;AAE1CM,MAAM,CAACC,OAAO,GAAG5B,MAAM","ignoreList":[]}