{"version":3,"file":"invoice.js","names":["express","require","router","Router","Invoice","moment","get","req","res","invoices","find","status","json","error","message","getInvoice","next","Invoices","findOne","email","body","module","exports"],"sources":["../../../../src/admin/routes/invoice/invoice.js"],"sourcesContent":["const express = require(\"express\");\nconst router = express.Router();\nconst Invoice = require(\"../../../app/models/users/invoice\");\nconst moment = require(\"moment\");\n\nrouter.get(\"/\", async (req, res) => {\n\ttry {\n\t\tconst invoices = await Invoice.find();\n\t\tres.status(201).json(invoices);\n\t} catch (error) {\n\t\tres.status(500).json({ message: error.message });\n\t}\n});\n\nrouter.get(\"/:id\", getInvoice, (req, res) => {\n\tres.json(res.Invoice);\n});\nasync function getInvoice(req, res, next) {\n\ttry {\n\t\tconst Invoices = await Invoice.findOne({ email: req.body.email });\n\t\tif (Invoices == \"\") {\n\t\t\treturn res.status(404).json({ message: \"Not Found\" });\n\t\t}\n\t\tres.Invoice = Invoices;\n\t\tres.json(res.Invoice);\n\t} catch (error) {\n\t\treturn res.status(500).json({ message: error.message });\n\t}\n}\n\nmodule.exports = router;\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,OAAO,GAAGH,OAAO,CAAC,mCAAmC,CAAC;AAC5D,MAAMI,MAAM,GAAGJ,OAAO,CAAC,QAAQ,CAAC;AAEhCC,MAAM,CAACI,GAAG,CAAC,GAAG,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAI;IACH,MAAMC,QAAQ,GAAG,MAAML,OAAO,CAACM,IAAI,CAAC,CAAC;IACrCF,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,QAAQ,CAAC;EAC/B,CAAC,CAAC,OAAOI,KAAK,EAAE;IACfL,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEE,OAAO,EAAED,KAAK,CAACC;IAAQ,CAAC,CAAC;EACjD;AACD,CAAC,CAAC;AAEFZ,MAAM,CAACI,GAAG,CAAC,MAAM,EAAES,UAAU,EAAE,CAACR,GAAG,EAAEC,GAAG,KAAK;EAC5CA,GAAG,CAACI,IAAI,CAACJ,GAAG,CAACJ,OAAO,CAAC;AACtB,CAAC,CAAC;AACF,eAAeW,UAAUA,CAACR,GAAG,EAAEC,GAAG,EAAEQ,IAAI,EAAE;EACzC,IAAI;IACH,MAAMC,QAAQ,GAAG,MAAMb,OAAO,CAACc,OAAO,CAAC;MAAEC,KAAK,EAAEZ,GAAG,CAACa,IAAI,CAACD;IAAM,CAAC,CAAC;IACjE,IAAIF,QAAQ,IAAI,EAAE,EAAE;MACnB,OAAOT,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEE,OAAO,EAAE;MAAY,CAAC,CAAC;IACtD;IACAN,GAAG,CAACJ,OAAO,GAAGa,QAAQ;IACtBT,GAAG,CAACI,IAAI,CAACJ,GAAG,CAACJ,OAAO,CAAC;EACtB,CAAC,CAAC,OAAOS,KAAK,EAAE;IACf,OAAOL,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEE,OAAO,EAAED,KAAK,CAACC;IAAQ,CAAC,CAAC;EACxD;AACD;AAEAO,MAAM,CAACC,OAAO,GAAGpB,MAAM","ignoreList":[]}