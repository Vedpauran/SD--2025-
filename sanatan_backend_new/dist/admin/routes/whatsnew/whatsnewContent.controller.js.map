{"version":3,"file":"whatsnewContent.controller.js","names":["WhatsnewModal","require","exports","getAllWhatsnews","req","res","whatsnews","find","json","err","status","message","getWhatsnewById","whatsnew","findById","params","id","getWhatsnewByLanguage","Whatsnews","findOne","Page","Language","language","error","createWhatsnew","Whatsnew","body","newWhatsnew","save","updateWhatsnew","set","updatedWhatsnew","deleteWhatsnew","findByIdAndDelete","getTrashWhatsnews","isTrash"],"sources":["../../../../src/admin/routes/whatsnew/whatsnewContent.controller.js"],"sourcesContent":["// whatsnewController.js\n\nconst WhatsnewModal = require(\"../../models/whatsnew/whatsnewContent\");\n\n// Get all whatsnews\nexports.getAllWhatsnews = async (req, res) => {\n\ttry {\n\t\tconst whatsnews = await WhatsnewModal.find();\n\t\tres.json(whatsnews);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get whatsnew by ID\nexports.getWhatsnewById = async (req, res) => {\n\ttry {\n\t\tconst whatsnew = await WhatsnewModal.findById(req.params.id);\n\t\tif (!whatsnew) {\n\t\t\treturn res.status(404).json({ message: \"Whatsnew not found\" });\n\t\t}\n\t\tres.json(whatsnew);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n// Get whatsnew by Type\nexports.getWhatsnewByLanguage = async (req, res) => {\n\ttry {\n\t\tconst Whatsnews = await WhatsnewModal.findOne({\n\t\t\tPage: req.params.id,\n\t\t\tLanguage: req.params.language,\n\t\t});\n\t\tif (!Whatsnews) {\n\t\t\treturn res.status(201).json({ message: \"Not Found\" });\n\t\t}\n\t\tres.Whatsnews = Whatsnews;\n\t\tres.status(200).json(res.Whatsnews);\n\t} catch (error) {\n\t\treturn res.status(500).json({ message: error.message });\n\t}\n};\n// Create a new whatsnew\nexports.createWhatsnew = async (req, res) => {\n\tconst whatsnew = new Whatsnew(req.body);\n\n\ttry {\n\t\tconst newWhatsnew = await whatsnew.save();\n\t\tres.status(201).json(newWhatsnew);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Update whatsnew by ID\nexports.updateWhatsnew = async (req, res) => {\n\ttry {\n\t\tconst whatsnew = await WhatsnewModal.findById(req.params.id);\n\t\tif (!whatsnew) {\n\t\t\treturn res.status(404).json({ message: \"Whatsnew not found\" });\n\t\t}\n\n\t\twhatsnew.set(req.body);\n\t\tconst updatedWhatsnew = await whatsnew.save();\n\t\tres.json(updatedWhatsnew);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Delete whatsnew by ID\nexports.deleteWhatsnew = async (req, res) => {\n\ttry {\n\t\tconst whatsnew = await WhatsnewModal.findByIdAndDelete(\n\t\t\treq.params.id\n\t\t);\n\t\tif (!whatsnew) {\n\t\t\treturn res.status(404).json({ message: \"Whatsnew not found\" });\n\t\t}\n\n\t\tres.json({ message: \"Whatsnew deleted successfully\" });\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get whatsnews\nexports.getTrashWhatsnews = async (req, res) => {\n\ttry {\n\t\tconst whatsnew = await WhatsnewModal.find({ isTrash: true });\n\t\tif (!whatsnew) {\n\t\t\treturn res.status(404).json({ message: \"Whatsnew not found\" });\n\t\t}\n\t\tres.json(whatsnew);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n"],"mappings":"AAAA;;AAEA,MAAMA,aAAa,GAAGC,OAAO,CAAC,uCAAuC,CAAC;;AAEtE;AACAC,OAAO,CAACC,eAAe,GAAG,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC7C,IAAI;IACH,MAAMC,SAAS,GAAG,MAAMN,aAAa,CAACO,IAAI,CAAC,CAAC;IAC5CF,GAAG,CAACG,IAAI,CAACF,SAAS,CAAC;EACpB,CAAC,CAAC,OAAOG,GAAG,EAAE;IACbJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEG,OAAO,EAAEF,GAAG,CAACE;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC;;AAED;AACAT,OAAO,CAACU,eAAe,GAAG,OAAOR,GAAG,EAAEC,GAAG,KAAK;EAC7C,IAAI;IACH,MAAMQ,QAAQ,GAAG,MAAMb,aAAa,CAACc,QAAQ,CAACV,GAAG,CAACW,MAAM,CAACC,EAAE,CAAC;IAC5D,IAAI,CAACH,QAAQ,EAAE;MACd,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;QAAEG,OAAO,EAAE;MAAqB,CAAC,CAAC;IAC/D;IACAN,GAAG,CAACG,IAAI,CAACK,QAAQ,CAAC;EACnB,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACbJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEG,OAAO,EAAEF,GAAG,CAACE;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC;AACD;AACAT,OAAO,CAACe,qBAAqB,GAAG,OAAOb,GAAG,EAAEC,GAAG,KAAK;EACnD,IAAI;IACH,MAAMa,SAAS,GAAG,MAAMlB,aAAa,CAACmB,OAAO,CAAC;MAC7CC,IAAI,EAAEhB,GAAG,CAACW,MAAM,CAACC,EAAE;MACnBK,QAAQ,EAAEjB,GAAG,CAACW,MAAM,CAACO;IACtB,CAAC,CAAC;IACF,IAAI,CAACJ,SAAS,EAAE;MACf,OAAOb,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;QAAEG,OAAO,EAAE;MAAY,CAAC,CAAC;IACtD;IACAN,GAAG,CAACa,SAAS,GAAGA,SAAS;IACzBb,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAACH,GAAG,CAACa,SAAS,CAAC;EACpC,CAAC,CAAC,OAAOK,KAAK,EAAE;IACf,OAAOlB,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEG,OAAO,EAAEY,KAAK,CAACZ;IAAQ,CAAC,CAAC;EACxD;AACD,CAAC;AACD;AACAT,OAAO,CAACsB,cAAc,GAAG,OAAOpB,GAAG,EAAEC,GAAG,KAAK;EAC5C,MAAMQ,QAAQ,GAAG,IAAIY,QAAQ,CAACrB,GAAG,CAACsB,IAAI,CAAC;EAEvC,IAAI;IACH,MAAMC,WAAW,GAAG,MAAMd,QAAQ,CAACe,IAAI,CAAC,CAAC;IACzCvB,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAACmB,WAAW,CAAC;EAClC,CAAC,CAAC,OAAOlB,GAAG,EAAE;IACbJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEG,OAAO,EAAEF,GAAG,CAACE;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC;;AAED;AACAT,OAAO,CAAC2B,cAAc,GAAG,OAAOzB,GAAG,EAAEC,GAAG,KAAK;EAC5C,IAAI;IACH,MAAMQ,QAAQ,GAAG,MAAMb,aAAa,CAACc,QAAQ,CAACV,GAAG,CAACW,MAAM,CAACC,EAAE,CAAC;IAC5D,IAAI,CAACH,QAAQ,EAAE;MACd,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;QAAEG,OAAO,EAAE;MAAqB,CAAC,CAAC;IAC/D;IAEAE,QAAQ,CAACiB,GAAG,CAAC1B,GAAG,CAACsB,IAAI,CAAC;IACtB,MAAMK,eAAe,GAAG,MAAMlB,QAAQ,CAACe,IAAI,CAAC,CAAC;IAC7CvB,GAAG,CAACG,IAAI,CAACuB,eAAe,CAAC;EAC1B,CAAC,CAAC,OAAOtB,GAAG,EAAE;IACbJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEG,OAAO,EAAEF,GAAG,CAACE;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC;;AAED;AACAT,OAAO,CAAC8B,cAAc,GAAG,OAAO5B,GAAG,EAAEC,GAAG,KAAK;EAC5C,IAAI;IACH,MAAMQ,QAAQ,GAAG,MAAMb,aAAa,CAACiC,iBAAiB,CACrD7B,GAAG,CAACW,MAAM,CAACC,EACZ,CAAC;IACD,IAAI,CAACH,QAAQ,EAAE;MACd,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;QAAEG,OAAO,EAAE;MAAqB,CAAC,CAAC;IAC/D;IAEAN,GAAG,CAACG,IAAI,CAAC;MAAEG,OAAO,EAAE;IAAgC,CAAC,CAAC;EACvD,CAAC,CAAC,OAAOF,GAAG,EAAE;IACbJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEG,OAAO,EAAEF,GAAG,CAACE;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC;;AAED;AACAT,OAAO,CAACgC,iBAAiB,GAAG,OAAO9B,GAAG,EAAEC,GAAG,KAAK;EAC/C,IAAI;IACH,MAAMQ,QAAQ,GAAG,MAAMb,aAAa,CAACO,IAAI,CAAC;MAAE4B,OAAO,EAAE;IAAK,CAAC,CAAC;IAC5D,IAAI,CAACtB,QAAQ,EAAE;MACd,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;QAAEG,OAAO,EAAE;MAAqB,CAAC,CAAC;IAC/D;IACAN,GAAG,CAACG,IAAI,CAACK,QAAQ,CAAC;EACnB,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACbJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEG,OAAO,EAAEF,GAAG,CAACE;IAAQ,CAAC,CAAC;EAC/C;AACD,CAAC","ignoreList":[]}