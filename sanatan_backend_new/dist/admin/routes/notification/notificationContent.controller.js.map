{"version":3,"file":"notificationContent.controller.js","names":["NotificationModal","require","exports","getAllNotifications","req","res","notifications","find","json","err","status","message","getNotificationById","notification","findById","params","id","getNotificationByLanguage","Notifications","findOne","Page","Language","language","error","createNotification","Notification","body","newNotification","save","updateNotification","set","updatedNotification","deleteNotification","findByIdAndDelete","getTrashNotifications","isTrash"],"sources":["../../../../src/admin/routes/notification/notificationContent.controller.js"],"sourcesContent":["// notificationController.js\n\nconst NotificationModal = require(\"../../models/notification/notificationContent\");\n\n// Get all notifications\nexports.getAllNotifications = async (req, res) => {\n\ttry {\n\t\tconst notifications = await NotificationModal.find();\n\t\tres.json(notifications);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get notification by ID\nexports.getNotificationById = async (req, res) => {\n\ttry {\n\t\tconst notification = await NotificationModal.findById(\n\t\t\treq.params.id\n\t\t);\n\t\tif (!notification) {\n\t\t\treturn res\n\t\t\t\t.status(404)\n\t\t\t\t.json({ message: \"Notification not found\" });\n\t\t}\n\t\tres.json(notification);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n// Get notification by Type\nexports.getNotificationByLanguage = async (req, res) => {\n\ttry {\n\t\tconst Notifications = await NotificationModal.findOne({\n\t\t\tPage: req.params.id,\n\t\t\tLanguage: req.params.language,\n\t\t});\n\t\tif (!Notifications) {\n\t\t\treturn res.status(201).json({ message: \"Not Found\" });\n\t\t}\n\t\tres.Notifications = Notifications;\n\t\tres.status(200).json(res.Notifications);\n\t} catch (error) {\n\t\treturn res.status(500).json({ message: error.message });\n\t}\n};\n// Create a new notification\nexports.createNotification = async (req, res) => {\n\tconst notification = new Notification(req.body);\n\n\ttry {\n\t\tconst newNotification = await notification.save();\n\t\tres.status(201).json(newNotification);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Update notification by ID\nexports.updateNotification = async (req, res) => {\n\ttry {\n\t\tconst notification = await NotificationModal.findById(\n\t\t\treq.params.id\n\t\t);\n\t\tif (!notification) {\n\t\t\treturn res\n\t\t\t\t.status(404)\n\t\t\t\t.json({ message: \"Notification not found\" });\n\t\t}\n\n\t\tnotification.set(req.body);\n\t\tconst updatedNotification = await notification.save();\n\t\tres.json(updatedNotification);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Delete notification by ID\nexports.deleteNotification = async (req, res) => {\n\ttry {\n\t\tconst notification = await NotificationModal.findByIdAndDelete(\n\t\t\treq.params.id\n\t\t);\n\t\tif (!notification) {\n\t\t\treturn res\n\t\t\t\t.status(404)\n\t\t\t\t.json({ message: \"Notification not found\" });\n\t\t}\n\t\tres.json({ message: \"Notification deleted successfully\" });\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get notifications\nexports.getTrashNotifications = async (req, res) => {\n\ttry {\n\t\tconst notification = await NotificationModal.find({\n\t\t\tisTrash: true,\n\t\t});\n\t\tif (!notification) {\n\t\t\treturn res\n\t\t\t\t.status(404)\n\t\t\t\t.json({ message: \"Notification not found\" });\n\t\t}\n\t\tres.json(notification);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n"],"mappings":"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","ignoreList":[]}