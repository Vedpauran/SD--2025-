{"version":3,"file":"notification.controller.js","names":["Notification","require","exports","getAllNotifications","req","res","notifications","find","json","err","status","message","getNotificationById","notification","findById","params","id","getNotificationByLanguage","Notifications","findOne","Page","Language","language","error","createNotification","body","newNotification","save","updateNotification","set","updatedNotification","deleteNotification","findByIdAndDelete","getTrashNotifications","isTrash"],"sources":["../../../../src/admin/routes/notification/notification.controller.js"],"sourcesContent":["// notificationController.js\n\nconst Notification = require(\"../../models/notification/notification\");\n\n// Get all notifications\nexports.getAllNotifications = async (req, res) => {\n\ttry {\n\t\tconst notifications = await Notification.find();\n\t\tres.json(notifications);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get notification by ID\nexports.getNotificationById = async (req, res) => {\n\ttry {\n\t\tconst notification = await Notification.findById(req.params.id);\n\t\tif (!notification) {\n\t\t\treturn res\n\t\t\t\t.status(404)\n\t\t\t\t.json({ message: \"Notification not found\" });\n\t\t}\n\t\tres.json(notification);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n// Get notification by Type\nexports.getNotificationByLanguage = async (req, res) => {\n\ttry {\n\t\tconst Notifications = await Notification.findOne({\n\t\t\tPage: req.params.id,\n\t\t\tLanguage: req.params.language,\n\t\t});\n\t\tif (!Notifications) {\n\t\t\treturn res.status(201).json({ message: \"Not Found\" });\n\t\t}\n\t\tres.Notifications = Notifications;\n\t\tres.status(200).json(res.Notifications);\n\t} catch (error) {\n\t\treturn res.status(500).json({ message: error.message });\n\t}\n};\n// Create a new notification\nexports.createNotification = async (req, res) => {\n\tconst notification = new Notification(req.body);\n\n\ttry {\n\t\tconst newNotification = await notification.save();\n\t\tres.status(201).json(newNotification);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Update notification by ID\nexports.updateNotification = async (req, res) => {\n\ttry {\n\t\tconst notification = await Notification.findById(req.params.id);\n\t\tif (!notification) {\n\t\t\treturn res\n\t\t\t\t.status(404)\n\t\t\t\t.json({ message: \"Notification not found\" });\n\t\t}\n\n\t\tnotification.set(req.body);\n\t\tconst updatedNotification = await notification.save();\n\t\tres.json(updatedNotification);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Delete notification by ID\nexports.deleteNotification = async (req, res) => {\n\ttry {\n\t\tconst notification = await Notification.findByIdAndDelete(\n\t\t\treq.params.id\n\t\t);\n\t\tif (!notification) {\n\t\t\treturn res\n\t\t\t\t.status(404)\n\t\t\t\t.json({ message: \"Notification not found\" });\n\t\t}\n\n\t\tres.json({ message: \"Notification deleted successfully\" });\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get notifications\nexports.getTrashNotifications = async (req, res) => {\n\ttry {\n\t\tconst notification = await Notification.find({ isTrash: true });\n\t\tif (!notification) {\n\t\t\treturn res\n\t\t\t\t.status(404)\n\t\t\t\t.json({ message: \"Notification not found\" });\n\t\t}\n\t\tres.json(notification);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n"],"mappings":"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","ignoreList":[]}