{"version":3,"file":"docs.js","names":["express","require","router","Router","multer","storage","diskStorage","destination","req","file","cb","filename","Date","now","originalname","upload","post","single","res","name","link","oname","status","json","module","exports"],"sources":["../../../../src/admin/routes/upload/docs.js"],"sourcesContent":["const express =require('express');\nconst router = express.Router();\nconst multer  = require('multer');\nconst storage = multer.diskStorage({\n    destination:function(req,file,cb){\n        cb(null,\"./public/uploads/docs\")\n    },\n    filename:function(req,file,cb){\n        cb(null,Date.now()+'-'+file.originalname)\n    },\n  \n})\n\nconst upload = multer({storage});\n\nrouter.post('/',upload.single('file'), (req, res) => {\n    var name = req.file.filename;\n    var link = `uploads/docs/${name}`;\n    var oname = req.file.originalname;\n      res.status(200).json({link:link,name:oname});\n    });\n\n  \n\n\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAEC,OAAO,CAAC,SAAS,CAAC;AACjC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,MAAM,GAAIH,OAAO,CAAC,QAAQ,CAAC;AACjC,MAAMI,OAAO,GAAGD,MAAM,CAACE,WAAW,CAAC;EAC/BC,WAAW,EAAC,SAAAA,CAASC,GAAG,EAACC,IAAI,EAACC,EAAE,EAAC;IAC7BA,EAAE,CAAC,IAAI,EAAC,uBAAuB,CAAC;EACpC,CAAC;EACDC,QAAQ,EAAC,SAAAA,CAASH,GAAG,EAACC,IAAI,EAACC,EAAE,EAAC;IAC1BA,EAAE,CAAC,IAAI,EAACE,IAAI,CAACC,GAAG,CAAC,CAAC,GAAC,GAAG,GAACJ,IAAI,CAACK,YAAY,CAAC;EAC7C;AAEJ,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGX,MAAM,CAAC;EAACC;AAAO,CAAC,CAAC;AAEhCH,MAAM,CAACc,IAAI,CAAC,GAAG,EAACD,MAAM,CAACE,MAAM,CAAC,MAAM,CAAC,EAAE,CAACT,GAAG,EAAEU,GAAG,KAAK;EACjD,IAAIC,IAAI,GAAGX,GAAG,CAACC,IAAI,CAACE,QAAQ;EAC5B,IAAIS,IAAI,GAAG,gBAAgBD,IAAI,EAAE;EACjC,IAAIE,KAAK,GAAGb,GAAG,CAACC,IAAI,CAACK,YAAY;EAC/BI,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAACH,IAAI,EAACA,IAAI;IAACD,IAAI,EAACE;EAAK,CAAC,CAAC;AAC9C,CAAC,CAAC;AAKNG,MAAM,CAACC,OAAO,GAAGvB,MAAM","ignoreList":[]}