{"version":3,"file":"temple.controller.js","names":["Temple","require","exports","getAllTemples","req","res","temples","find","json","err","status","message","getTempleById","temple","findById","params","id","getTempleByLanguage","Temples","findOne","Page","Language","language","error","createTemple","body","newTemple","save","updateTemple","set","updatedTemple","deleteTemple","remove","getActiveTemples","getDraftTemples","getTrashTemples","isTrash"],"sources":["../../../../../src/admin/controllers/pages/temple/temple.controller.js"],"sourcesContent":["// templeController.js\n\nconst Temple = require(\"../../../models/pages/temples\");\n\n// Get all temples\nexports.getAllTemples = async (req, res) => {\n\ttry {\n\t\tconst temples = await Temple.find();\n\t\tres.json(temples);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get temple by ID\nexports.getTempleById = async (req, res) => {\n\ttry {\n\t\tconst temple = await Temple.findById(req.params.id);\n\t\tif (!temple) {\n\t\t\treturn res.status(404).json({ message: \"Temple not found\" });\n\t\t}\n\t\tres.json(temple);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\nexports.getTempleByLanguage = async (req, res) => {\n\ttry {\n\t\tconst Temples = await Temple.findOne({\n\t\t\tPage: req.params.id,\n\t\t\tLanguage: req.params.language,\n\t\t});\n\t\tif (!Temples) {\n\t\t\treturn res.status(201).json({ message: \"Not Found\" });\n\t\t}\n\t\tres.Temples = Temples;\n\t\tres.status(200).json(res.Temples);\n\t} catch (error) {\n\t\treturn res.status(500).json({ message: error.message });\n\t}\n};\n// Create a new temple\nexports.createTemple = async (req, res) => {\n\tconst temple = new Temple(req.body);\n\n\ttry {\n\t\tconst newTemple = await temple.save();\n\t\tres.status(201).json(newTemple);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Update temple by ID\nexports.updateTemple = async (req, res) => {\n\ttry {\n\t\tconst temple = await Temple.findById(req.params.id);\n\t\tif (!temple) {\n\t\t\treturn res.status(404).json({ message: \"Temple not found\" });\n\t\t}\n\n\t\ttemple.set(req.body);\n\t\tconst updatedTemple = await temple.save();\n\t\tres.json(updatedTemple);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Delete temple by ID\nexports.deleteTemple = async (req, res) => {\n\ttry {\n\t\tconst temple = await Temple.findById(req.params.id);\n\t\tif (!temple) {\n\t\t\treturn res.status(404).json({ message: \"Temple not found\" });\n\t\t}\n\n\t\tawait temple.remove();\n\t\tres.json({ message: \"Temple deleted successfully\" });\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get temples\nexports.getActiveTemples = async (req, res) => {\n\ttry {\n\t\tconst temple = await Temple.find({\n\t\t\tstatus: \"STATUS_ACTIVE\",\n\t\t});\n\t\tif (!temple) {\n\t\t\treturn res.status(404).json({ message: \"Temple not found\" });\n\t\t}\n\t\tres.json(temple);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get temples\nexports.getDraftTemples = async (req, res) => {\n\ttry {\n\t\tconst temple = await Temple.find({\n\t\t\tstatus: \"STATUS_INACTIVE\",\n\t\t});\n\t\tif (!temple) {\n\t\t\treturn res.status(404).json({ message: \"Temple not found\" });\n\t\t}\n\t\tres.json(temple);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get temples\nexports.getTrashTemples = async (req, res) => {\n\ttry {\n\t\tconst temple = await Temple.find({ isTrash: true });\n\t\tif (!temple) {\n\t\t\treturn res.status(404).json({ message: \"Temple not found\" });\n\t\t}\n\t\tres.json(temple);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n"],"mappings":"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","ignoreList":[]}