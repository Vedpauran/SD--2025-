{"version":3,"file":"scriptures.controller.js","names":["Scripture","require","exports","getAllScriptures","req","res","scriptures","find","json","err","status","message","getScriptureById","scripture","findById","params","id","getScriptureByLanguage","Scriptures","findOne","Page","Language","language","error","createScripture","body","newScripture","save","updateScripture","set","updatedScripture","deleteScripture","remove","getActiveScriptures","getDraftScriptures","getTrashScriptures","isTrash"],"sources":["../../../../../src/admin/controllers/pages/scriptures/scriptures.controller.js"],"sourcesContent":["// scriptureController.js\n\nconst Scripture = require(\"../../../models/pages/scriptures\");\n\n// Get all scriptures\nexports.getAllScriptures = async (req, res) => {\n\ttry {\n\t\tconst scriptures = await Scripture.find();\n\t\tres.json(scriptures);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get scripture by ID\nexports.getScriptureById = async (req, res) => {\n\ttry {\n\t\tconst scripture = await Scripture.findById(req.params.id);\n\t\tif (!scripture) {\n\t\t\treturn res.status(404).json({ message: \"Scripture not found\" });\n\t\t}\n\t\tres.json(scripture);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\nexports.getScriptureByLanguage = async (req, res) => {\n\ttry {\n\t\tconst Scriptures = await Scripture.findOne({\n\t\t\tPage: req.params.id,\n\t\t\tLanguage: req.params.language,\n\t\t});\n\t\tif (!Scriptures) {\n\t\t\treturn res.status(201).json({ message: \"Not Found\" });\n\t\t}\n\t\tres.Scriptures = Scriptures;\n\t\tres.status(200).json(res.Scriptures);\n\t} catch (error) {\n\t\treturn res.status(500).json({ message: error.message });\n\t}\n};\n// Create a new scripture\nexports.createScripture = async (req, res) => {\n\tconst scripture = new Scripture(req.body);\n\n\ttry {\n\t\tconst newScripture = await scripture.save();\n\t\tres.status(201).json(newScripture);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Update scripture by ID\nexports.updateScripture = async (req, res) => {\n\ttry {\n\t\tconst scripture = await Scripture.findById(req.params.id);\n\t\tif (!scripture) {\n\t\t\treturn res.status(404).json({ message: \"Scripture not found\" });\n\t\t}\n\n\t\tscripture.set(req.body);\n\t\tconst updatedScripture = await scripture.save();\n\t\tres.json(updatedScripture);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Delete scripture by ID\nexports.deleteScripture = async (req, res) => {\n\ttry {\n\t\tconst scripture = await Scripture.findById(req.params.id);\n\t\tif (!scripture) {\n\t\t\treturn res.status(404).json({ message: \"Scripture not found\" });\n\t\t}\n\n\t\tawait scripture.remove();\n\t\tres.json({ message: \"Scripture deleted successfully\" });\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get scriptures\nexports.getActiveScriptures = async (req, res) => {\n\ttry {\n\t\tconst scripture = await Scripture.find({\n\t\t\tstatus: \"STATUS_ACTIVE\",\n\t\t});\n\t\tif (!scripture) {\n\t\t\treturn res.status(404).json({ message: \"Scripture not found\" });\n\t\t}\n\t\tres.json(scripture);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get scriptures\nexports.getDraftScriptures = async (req, res) => {\n\ttry {\n\t\tconst scripture = await Scripture.find({\n\t\t\tstatus: \"STATUS_INACTIVE\",\n\t\t});\n\t\tif (!scripture) {\n\t\t\treturn res.status(404).json({ message: \"Scripture not found\" });\n\t\t}\n\t\tres.json(scripture);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get scriptures\nexports.getTrashScriptures = async (req, res) => {\n\ttry {\n\t\tconst scripture = await Scripture.find({ isTrash: true });\n\t\tif (!scripture) {\n\t\t\treturn res.status(404).json({ message: \"Scripture not found\" });\n\t\t}\n\t\tres.json(scripture);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n"],"mappings":"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","ignoreList":[]}