{"version":3,"file":"blog.controller.js","names":["Blog","require","exports","getAllBlogs","req","res","blogs","find","json","err","status","message","getBlogById","blog","findById","params","id","getBlogByLanguage","Blogs","findOne","Page","Language","language","error","createBlog","body","newBlog","save","updateBlog","set","updatedBlog","deleteBlog","remove","getActiveBlogs","getDraftBlogs","getTrashBlogs","isTrash"],"sources":["../../../../../src/admin/controllers/pages/blog/blog.controller.js"],"sourcesContent":["// blogController.js\n\nconst Blog = require(\"../../../models/pages/pageblog\");\n\n// Get all blogs\nexports.getAllBlogs = async (req, res) => {\n\ttry {\n\t\tconst blogs = await Blog.find();\n\t\tres.json(blogs);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get blog by ID\nexports.getBlogById = async (req, res) => {\n\ttry {\n\t\tconst blog = await Blog.findById(req.params.id);\n\t\tif (!blog) {\n\t\t\treturn res.status(404).json({ message: \"Blog not found\" });\n\t\t}\n\t\tres.json(blog);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n// Get blog by Type\nexports.getBlogByLanguage = async (req, res) => {\n\ttry {\n\t\tconst Blogs = await Blog.findOne({\n\t\t\tPage: req.params.id,\n\t\t\tLanguage: req.params.language,\n\t\t});\n\t\tif (!Blogs) {\n\t\t\treturn res.status(201).json({ message: \"Not Found\" });\n\t\t}\n\t\tres.Blogs = Blogs;\n\t\tres.status(200).json(res.Blogs);\n\t} catch (error) {\n\t\treturn res.status(500).json({ message: error.message });\n\t}\n};\n// Create a new blog\nexports.createBlog = async (req, res) => {\n\tconst blog = new Blog(req.body);\n\n\ttry {\n\t\tconst newBlog = await blog.save();\n\t\tres.status(201).json(newBlog);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Update blog by ID\nexports.updateBlog = async (req, res) => {\n\ttry {\n\t\tconst blog = await Blog.findById(req.params.id);\n\t\tif (!blog) {\n\t\t\treturn res.status(404).json({ message: \"Blog not found\" });\n\t\t}\n\n\t\tblog.set(req.body);\n\t\tconst updatedBlog = await blog.save();\n\t\tres.json(updatedBlog);\n\t} catch (err) {\n\t\tres.status(400).json({ message: err.message });\n\t}\n};\n\n// Delete blog by ID\nexports.deleteBlog = async (req, res) => {\n\ttry {\n\t\tconst blog = await Blog.findById(req.params.id);\n\t\tif (!blog) {\n\t\t\treturn res.status(404).json({ message: \"Blog not found\" });\n\t\t}\n\n\t\tawait blog.remove();\n\t\tres.json({ message: \"Blog deleted successfully\" });\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get blogs\nexports.getActiveBlogs = async (req, res) => {\n\ttry {\n\t\tconst blog = await Blog.find({\n\t\t\tstatus: \"STATUS_ACTIVE\",\n\t\t});\n\t\tif (!blog) {\n\t\t\treturn res.status(404).json({ message: \"Blog not found\" });\n\t\t}\n\t\tres.json(blog);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get blogs\nexports.getDraftBlogs = async (req, res) => {\n\ttry {\n\t\tconst blog = await Blog.find({\n\t\t\tstatus: \"STATUS_INACTIVE\",\n\t\t});\n\t\tif (!blog) {\n\t\t\treturn res.status(404).json({ message: \"Blog not found\" });\n\t\t}\n\t\tres.json(blog);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n\n// Get blogs\nexports.getTrashBlogs = async (req, res) => {\n\ttry {\n\t\tconst blog = await Blog.find({ isTrash: true });\n\t\tif (!blog) {\n\t\t\treturn res.status(404).json({ message: \"Blog not found\" });\n\t\t}\n\t\tres.json(blog);\n\t} catch (err) {\n\t\tres.status(500).json({ message: err.message });\n\t}\n};\n"],"mappings":"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","ignoreList":[]}